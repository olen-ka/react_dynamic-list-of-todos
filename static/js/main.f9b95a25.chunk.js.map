{"version":3,"sources":["components/TodoList/TodoList.jsx","components/CurrentUser/CurrentUser.jsx","api.js","components/LoadingError/LoadingError.jsx","App.jsx","index.js"],"names":["TodoList","state","input","select","filter","All","Completed","todo","completed","Active","handleChange","event","setState","target","name","value","this","props","todos","selectUser","selectedUserId","selectedTodoId","filteredTodos","title","toLowerCase","includes","className","type","onChange","map","key","id","checked","onClick","readOnly","userId","classNames","React","Component","CurrentUser","user","loadData","prevProps","fetch","then","response","json","data","clearSelectedUser","undefined","color","height","width","timeout","email","phone","LoadingError","App","hasLoadingError","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f9b95a25.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoList.scss';\nimport propTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport class TodoList extends React.Component {\n  state = {\n    input: '',\n    select: 'All',\n  }\n\n  filter = {\n    All: () => true,\n    Completed: todo => todo.completed,\n    Active: todo => !todo.completed,\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  }\n\n  render() {\n    const { todos, selectUser, selectedUserId, selectedTodoId } = this.props;\n    const { input, select } = this.state;\n    const filteredTodos = todos.filter(todo => (\n      todo.title.toLowerCase().includes(input.toLowerCase())\n    )\n    && this.filter[select](todo));\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n\n        <div className=\"TodoList__list-container\">\n          <input\n            type=\"text\"\n            name=\"input\"\n            value={input}\n            className=\"TodoList__input\"\n            onChange={this.handleChange}\n          />\n\n          <select\n            name=\"select\"\n            value={select}\n            className=\"TodoList__input\"\n            onChange={this.handleChange}\n          >\n            <option>All</option>\n            <option>Active</option>\n            <option>Completed</option>\n          </select>\n\n          <ul className=\"TodoList__list\">\n            {filteredTodos.map(todo => (\n              <li\n                className={\n                  `TodoList__item ${todo.completed\n                    ? 'TodoList__item--checked'\n                    : 'TodoList__item--unchecked'}`\n                }\n                key={todo.id}\n              >\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={todo.completed}\n                    onClick={!todo.completed}\n                    readOnly\n                  />\n                  <p>\n                    {todo.title}\n                  </p>\n                </label>\n\n                {selectedTodoId === todo.id && selectedUserId === todo.userId\n                  ? (\n                    <button\n                      className={\n                        classNames('TodoList__user-button button', {\n                          'TodoList__user-button--selected':\n                          todo.userId === selectedUserId\n                          && selectedTodoId === todo.id,\n                        })\n                      }\n                      type=\"button\"\n                      onClick={() => selectUser(0, 0)}\n                    >\n                      User&nbsp;#\n                      {todo.userId}\n                    </button>\n                  ) : (\n                    <button\n                      className={\n                        classNames('TodoList__user-button button', {\n                          'TodoList__user-button--selected':\n                          todo.userId === selectedUserId\n                          && selectedTodoId === todo.id,\n                        })\n                      }\n                      type=\"button\"\n                      onClick={() => selectUser(todo.userId, todo.id)}\n                    >\n                      User&nbsp;#\n                      {todo.userId}\n                    </button>\n                  )}\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: propTypes.arrayOf(propTypes.shape({\n    id: propTypes.number.isRequired,\n    userId: propTypes.number.isRequired,\n    title: propTypes.string.isRequired,\n    completed: propTypes.bool.isRequired,\n  })).isRequired,\n  selectUser: propTypes.func.isRequired,\n  selectedUserId: propTypes.number.isRequired,\n  selectedTodoId: propTypes.number.isRequired,\n};\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\nimport './CurrentUser.scss';\nimport { getUsers } from '../../api';\n\nexport class CurrentUser extends React.Component {\n  state = {\n    user: {},\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.userId === this.state.user.id) {\n      this.loadData();\n    }\n  }\n\n  async loadData() {\n    const user = await getUsers(this.props.userId);\n\n    this.setState({ user });\n  }\n\n  render() {\n    const { user } = this.state;\n    const { clearSelectedUser } = this.props;\n\n    if (user.id === undefined) {\n      return (\n        <div className=\"loader\">\n          <Loader\n            type=\"Circles\"\n            color=\"purple\"\n            height={120}\n            width={120}\n            timeout={3000}\n          />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>{`Selected user: ${user.id}`}</span>\n        </h2>\n        <h3 className=\"CurrentUser__name\">{user.name}</h3>\n        <p className=\"CurrentUser__email\">{user.email}</p>\n        <p className=\"CurrentUser__phone\">{user.phone}</p>\n        <button\n          type=\"button\"\n          className=\"CurrentUser__clear button\"\n          onClick={clearSelectedUser}\n        >\n          Clear\n        </button>\n      </div>\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  userId: propTypes.number.isRequired,\n  clearSelectedUser: propTypes.func.isRequired,\n};\n","const TODOS_URL = 'https://mate-api.herokuapp.com/todos';\nconst USERS_URL = 'https://mate-api.herokuapp.com/users';\n\nexport const getTodos = () => fetch(TODOS_URL)\n  .then(response => response.json())\n  .then(todo => todo.data);\n\nexport const getUsers = userId => fetch(`${USERS_URL}/${userId}`)\n  .then(response => response.json())\n  .then(todo => todo.data);\n","import React from 'react';\n\nexport const LoadingError = () => (\n  <div className=\"error\">\n    Unable to render a list at this time. Please reload the page and try again.\n  </div>\n);\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\nimport { LoadingError } from './components/LoadingError';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n    selectedTodoId: 0,\n    hasLoadingError: false,\n  };\n\n  async componentDidMount() {\n    try {\n      const todos = await getTodos();\n\n      this.setState({\n        todos: todos.filter(todo => todo.userId !== null),\n      });\n    } catch (error) {\n      this.setState({\n        hasLoadingError: true,\n      });\n    }\n  }\n\n  selectUser = (selectedUserId, selectedTodoId) => {\n    this.setState({\n      selectedUserId,\n      selectedTodoId,\n    });\n  }\n\n  clearSelectedUser = () => {\n    this.setState({\n      selectedUserId: 0,\n      selectedTodoId: 0,\n    });\n  }\n\n  render() {\n    const {\n      todos,\n      selectedUserId,\n      hasLoadingError,\n      selectedTodoId,\n    } = this.state;\n    const { selectUser, clearSelectedUser } = this;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            selectedUserId={selectedUserId}\n            selectedTodoId={selectedTodoId}\n            selectUser={selectUser}\n          />\n          {hasLoadingError && <LoadingError />}\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                clearSelectedUser={clearSelectedUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}